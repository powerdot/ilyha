# Фишки массивов

Представь себе задачу.  
У тебя есть массив пользователей:
```js
let users = [
    { id: 1, name: "Вася", age: 20 },
    { id: 2, name: "Петя", age: 22 },
    { id: 3, name: "Маша", age: 25 },
    { id: 4, name: "Максим", age: 30 },
    { id: 5, name: "Аня", age: 28 },
    { id: 6, name: "Саша", age: 26 },
    { id: 7, name: "Даша", age: 27 },
    { id: 8, name: "Катя", age: 24 },
    { id: 9, name: "Коля", age: 23 },
    { id: 10, name: "Витя", age: 21 },
]
```

И ты хочешь получить просто `массив имён`.  
Ну то есть `Вася, Петя, Маша`...  
Как это сделать?  
Можно так:
```js
let users = [
    { id: 1, name: "Вася", age: 20 },
    { id: 2, name: "Петя", age: 22 },
    { id: 3, name: "Маша", age: 25 },
    { id: 4, name: "Максим", age: 30 },
    { id: 5, name: "Аня", age: 28 },
    { id: 6, name: "Саша", age: 26 },
    { id: 7, name: "Даша", age: 27 },
    { id: 8, name: "Катя", age: 24 },
    { id: 9, name: "Коля", age: 23 },
    { id: 10, name: "Витя", age: 21 },
]

let users_names = [];
for(let user of users){
    users_names.push(user.name);
}

console.log(users_names);
// -> ["Вася", "Петя", "Маша", "Максим", "Аня", "Саша", "Даша", "Катя", "Коля", "Витя"]
```
Получается, ты просто перебираешь массив и добавляешь в новый массив `users_names` имя каждого пользователя.  
И ты потратил на это целых **4 строчки**, какой ужас!  
Это же целых 40 секунд работы!!!  
Но мы оба знаем, что здесь мы не для того чтобы работать как на каторге, поэтому умные чуваки придумали функцию `.map()`.  
Просто посмотри как она работает:
```js
let users = [
    { id: 1, name: "Вася", age: 20 },
    { id: 2, name: "Петя", age: 22 },
    { id: 3, name: "Маша", age: 25 },
    { id: 4, name: "Максим", age: 30 },
    { id: 5, name: "Аня", age: 28 },
    { id: 6, name: "Саша", age: 26 },
    { id: 7, name: "Даша", age: 27 },
    { id: 8, name: "Катя", age: 24 },
    { id: 9, name: "Коля", age: 23 },
    { id: 10, name: "Витя", age: 21 },
]

let users_names = users.map(user => user.name);
// -> ["Вася", "Петя", "Маша", "Максим", "Аня", "Саша", "Даша", "Катя", "Коля", "Витя"]
```
Одна строчка, Карл!  
А теперь подробнее:
* `map` используется с массивами
* В `map` только 1 аргумент - функция (`user => user.name`, да это функция). В нашем случае эта функция достает `name` перебираемого пользователя.
* Функция эта называется стрелочной, потому что в её объявлении участвует аля стрелка `=>`.

**Стрелочная функция**, по-сути обычная функция, просто пишется короче.  
Примеры:
```js
// обычная функция
function sum(a, b) {
    return a + b;
}

// стрелочная функция
let sum = (a, b) => a + b;
```
Вот ещё:
```js
// обычная функция
function plusTen(num) {
    return num + 10;
}

// стрелочная функция
let plusTen = num => num + 10;
```
Два примера выше абсолютно идентичные друг другу.  
А теперь давай посмотрим еще раз на `map`:
```js
let users_names = users.map(user => user.name);
```
Это можно записать и без стрелочной функции:
```js
let users_names = users.map(function(user) {
    return user.name;
});
```
Значит, что тут собственно говоря происходит?
* `map` за тебя перебирает все элементы массива
* `map` при каждой иттерации (при переборе элемента) вызывает функцию, которую ты передаёшь собственно говоря в `map` как аргумент.
* В нашем примере, переменная `user` принимает значение каждого перебираемого элемента массива.
* Наша функция возвращает `user.name`, то есть имя перебираемого пользователя.
* `map` собирает все возвращенные значения в новый массив.

Давай ещё пару примеров!
```js
let games = [
    {name: "Counter Strike", price: 100},
    {name: "Dota 2", price: 50},
    {name: "League of Legends", price: 150},
    {name: "Hearthstone", price: 40},
];

let prices = games.map(game => game.price);
// -> [100, 50, 150, 40]
```
```js
let rooms = [
    {name: "Гостинная", m2: 12},
    {name: "Кухня", m2: 9},
    {name: "Ванная", m2: 6},
    {name: "Спальня", m2: 8},
];

let m2s = rooms.map(room => room.m2);
// -> [12, 9, 6, 8]
```
Как ты понимаешь, `map` - это очень полезная и очень быстрая штука, чтобы собрать новый массив на основе другого массива.  
И тот новый массив можно уже вертеть на любом другом хуе)  
Из предыдущей задаче по комнатам: **Ты хочешь узнать сумму всей квартиры**:
```js
let rooms = [
    {name: "Гостинная", m2: 12},
    {name: "Кухня", m2: 9},
    {name: "Ванная", m2: 6},
    {name: "Спальня", m2: 8},
];

let m2s = rooms.map(room => room.m2);
// -> [12, 9, 6, 8]

let m2_sum = 0;
for (let m2 of m2s) {
    m2_sum += m2;
}
// -> 35
```



